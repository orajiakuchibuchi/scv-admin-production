"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[805],{4439:function(A,h){var f=function(){function s(){}return s.EOL="\r\n",s.BOM="\ufeff",s.DEFAULT_FIELD_SEPARATOR=",",s.DEFAULT_DECIMAL_SEPARATOR=".",s.DEFAULT_QUOTE='"',s.DEFAULT_SHOW_TITLE=!1,s.DEFAULT_TITLE="My Report",s.DEFAULT_FILENAME="mycsv.csv",s.DEFAULT_SHOW_LABELS=!1,s.DEFAULT_USE_BOM=!0,s.DEFAULT_HEADER=[],s.DEFAULT_OBJ_HEADER={},s.DEFAULT_USE_OBJ_HEADER=!1,s.DEFAULT_USE_HEADER=!1,s.DEFAULT_NO_DOWNLOAD=!1,s.DEFAULT_NULL_TO_EMPTY_STRING=!1,s}();h.hd={filename:f.DEFAULT_FILENAME,fieldSeparator:f.DEFAULT_FIELD_SEPARATOR,quoteStrings:f.DEFAULT_QUOTE,decimalseparator:f.DEFAULT_DECIMAL_SEPARATOR,showLabels:f.DEFAULT_SHOW_LABELS,showTitle:f.DEFAULT_SHOW_TITLE,title:f.DEFAULT_TITLE,useBom:f.DEFAULT_USE_BOM,headers:f.DEFAULT_HEADER,objHeader:f.DEFAULT_OBJ_HEADER,useObjHeader:f.DEFAULT_USE_OBJ_HEADER,useHeader:f.DEFAULT_USE_HEADER,noDownload:f.DEFAULT_NO_DOWNLOAD,nullToEmptyString:f.DEFAULT_NULL_TO_EMPTY_STRING};var m=function(){function s(r,n,a){this.csv="";var l=a||{};this.data="object"!=typeof r?JSON.parse(r):r,this._options=function(s){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var a,o,l=_(s),d=1;d<arguments.length;d++){for(var g in a=Object(arguments[d]))e.call(a,g)&&(l[g]=a[g]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(a);for(var u=0;u<o.length;u++)b.call(a,o[u])&&(l[o[u]]=a[o[u]])}}return l}({},h.hd,l),this._options.filename&&(this._options.filename=n),this.generateCsv()}return s.prototype.generateCsv=function(){if(this._options.useBom&&(this.csv+=f.BOM),this._options.showTitle&&(this.csv+=this._options.title+"\r\n\n"),this._options.useObjHeader&&Object.keys(this._options.objHeader).length>0?(this.getHeaderFromObj(),this.getBodyAccordingHeader()):(this.getHeaders(),this.getBody()),""!=this.csv){if(this._options.noDownload)return this.csv;var r=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){var n=this._options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(r,n)}else{encodeURI(this.csv);var l=document.createElement("a");l.href=URL.createObjectURL(r),l.setAttribute("target","_blank"),l.setAttribute("visibility","hidden"),l.download=this._options.filename.replace(/ /g,"_")+".csv",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}else console.log("Invalid data")},s.prototype.getHeaders=function(){var r=this;if(this._options.headers.length>0){var a=this._options.headers.reduce(function(l,o){return l+o+r._options.fieldSeparator},"");a=a.slice(0,-1),this.csv+=a+f.EOL}},s.prototype.getHeaderFromObj=function(){var r=this;if(Object.keys(this._options.objHeader).length>0){var n="";Object.keys(this._options.objHeader).forEach(function(a){n+=r._options.objHeader[a]+r._options.fieldSeparator}),n=n.slice(0,-1),this.csv+=n+f.EOL}},s.prototype.getBodyAccordingHeader=function(){for(var r=this,n=function(o){var d="";a._options.useObjHeader&&Object.keys(a._options.objHeader).length>0&&Object.keys(a._options.objHeader).forEach(function(g){d+=r.formatData(r.data[o][g])+r._options.fieldSeparator}),d=d.slice(0,-1),a.csv+=d+f.EOL},a=this,l=0;l<this.data.length;l++)n(l)},s.prototype.getBody=function(){for(var r=0;r<this.data.length;r++){var n="";if(this._options.useHeader&&this._options.headers.length>0)for(var a=0,l=this._options.headers;a<l.length;a++)n+=this.formatData(this.data[r][o=l[a]])+this._options.fieldSeparator;else for(var o in this.data[r])n+=this.formatData(this.data[r][o])+this._options.fieldSeparator;n=n.slice(0,-1),this.csv+=n+f.EOL}},s.prototype.formatData=function(r){return"locale"===this._options.decimalseparator&&s.isFloat(r)?r.toLocaleString():"."!==this._options.decimalseparator&&s.isFloat(r)?r.toString().replace(".",this._options.decimalseparator):"string"==typeof r?(r=r.replace(/"/g,'""'),(this._options.quoteStrings||r.indexOf(",")>-1||r.indexOf("\n")>-1||r.indexOf("\r")>-1)&&(r=this._options.quoteStrings+r+this._options.quoteStrings),r):this._options.nullToEmptyString?r||(r=""):"boolean"==typeof r?r?"TRUE":"FALSE":r},s.prototype.getCsvData=function(){return this.csv},s.isFloat=function(r){return+r===r&&(!isFinite(r)||Boolean(r%1))},s}();h.Sv=m;var e=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function _(s){if(null==s)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}},3576:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(5730),m=i(7104),e=i(6232),b=i(3915),_=i(8273),y=function(){function r(n){this._isScalar=!1,n&&(this._subscribe=n)}return r.prototype.lift=function(n){var a=new r;return a.source=this,a.operator=n,a},r.prototype.subscribe=function(n,a,l){var o=this.operator,d=m.toSubscriber(n,a,l);if(d.add(o?o.call(d,this.source):this.source||_.config.useDeprecatedSynchronousErrorHandling&&!d.syncErrorThrowable?this._subscribe(d):this._trySubscribe(d)),_.config.useDeprecatedSynchronousErrorHandling&&d.syncErrorThrowable&&(d.syncErrorThrowable=!1,d.syncErrorThrown))throw d.syncErrorValue;return d},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(a){_.config.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=a),f.canReportError(n)?n.error(a):console.warn(a)}},r.prototype.forEach=function(n,a){var l=this;return new(a=s(a))(function(o,d){var g;g=l.subscribe(function(u){try{n(u)}catch(E){d(E),g&&g.unsubscribe()}},d,o)})},r.prototype._subscribe=function(n){var a=this.source;return a&&a.subscribe(n)},r.prototype[e.observable]=function(){return this},r.prototype.pipe=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return 0===n.length?this:b.pipeFromArray(n)(this)},r.prototype.toPromise=function(n){var a=this;return new(n=s(n))(function(l,o){var d;a.subscribe(function(g){return d=g},function(g){return o(g)},function(){return l(d)})})},r.create=function(n){return new r(n)},r}();function s(r){if(r||(r=_.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}h.Observable=y},6011:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(8273),m=i(2434);h.empty={closed:!0,next:function(e){},error:function(e){if(f.config.useDeprecatedSynchronousErrorHandling)throw e;m.hostReportError(e)},complete:function(){}}},7241:function(A,h,i){var a,f=this&&this.__extends||(a=function(l,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var u in g)g.hasOwnProperty(u)&&(d[u]=g[u])})(l,o)},function(l,o){function d(){this.constructor=l}a(l,o),l.prototype=null===o?Object.create(o):(d.prototype=o.prototype,new d)});Object.defineProperty(h,"__esModule",{value:!0});var m=i(7382),e=i(6011),b=i(3984),_=i(1476),y=i(8273),s=i(2434),r=function(a){function l(o,d,g){var u=a.call(this)||this;switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=e.empty;break;case 1:if(!o){u.destination=e.empty;break}if("object"==typeof o){o instanceof l?(u.syncErrorThrowable=o.syncErrorThrowable,u.destination=o,o.add(u)):(u.syncErrorThrowable=!0,u.destination=new n(u,o));break}default:u.syncErrorThrowable=!0,u.destination=new n(u,o,d,g)}return u}return f(l,a),l.prototype[_.rxSubscriber]=function(){return this},l.create=function(o,d,g){var u=new l(o,d,g);return u.syncErrorThrowable=!1,u},l.prototype.next=function(o){this.isStopped||this._next(o)},l.prototype.error=function(o){this.isStopped||(this.isStopped=!0,this._error(o))},l.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},l.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},l.prototype._next=function(o){this.destination.next(o)},l.prototype._error=function(o){this.destination.error(o),this.unsubscribe()},l.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},l.prototype._unsubscribeAndRecycle=function(){var o=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=o,this},l}(b.Subscription);h.Subscriber=r;var n=function(a){function l(o,d,g,u){var E=a.call(this)||this;E._parentSubscriber=o;var U,S=E;return m.isFunction(d)?U=d:d&&(U=d.next,g=d.error,u=d.complete,d!==e.empty&&(S=Object.create(d),m.isFunction(S.unsubscribe)&&E.add(S.unsubscribe.bind(S)),S.unsubscribe=E.unsubscribe.bind(E))),E._context=S,E._next=U,E._error=g,E._complete=u,E}return f(l,a),l.prototype.next=function(o){if(!this.isStopped&&this._next){var d=this._parentSubscriber;y.config.useDeprecatedSynchronousErrorHandling&&d.syncErrorThrowable?this.__tryOrSetError(d,this._next,o)&&this.unsubscribe():this.__tryOrUnsub(this._next,o)}},l.prototype.error=function(o){if(!this.isStopped){var d=this._parentSubscriber,g=y.config.useDeprecatedSynchronousErrorHandling;if(this._error)g&&d.syncErrorThrowable?(this.__tryOrSetError(d,this._error,o),this.unsubscribe()):(this.__tryOrUnsub(this._error,o),this.unsubscribe());else if(d.syncErrorThrowable)g?(d.syncErrorValue=o,d.syncErrorThrown=!0):s.hostReportError(o),this.unsubscribe();else{if(this.unsubscribe(),g)throw o;s.hostReportError(o)}}},l.prototype.complete=function(){var o=this;if(!this.isStopped){var d=this._parentSubscriber;if(this._complete){var g=function(){return o._complete.call(o._context)};y.config.useDeprecatedSynchronousErrorHandling&&d.syncErrorThrowable?(this.__tryOrSetError(d,g),this.unsubscribe()):(this.__tryOrUnsub(g),this.unsubscribe())}else this.unsubscribe()}},l.prototype.__tryOrUnsub=function(o,d){try{o.call(this._context,d)}catch(g){if(this.unsubscribe(),y.config.useDeprecatedSynchronousErrorHandling)throw g;s.hostReportError(g)}},l.prototype.__tryOrSetError=function(o,d,g){if(!y.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{d.call(this._context,g)}catch(u){return y.config.useDeprecatedSynchronousErrorHandling?(o.syncErrorValue=u,o.syncErrorThrown=!0,!0):(s.hostReportError(u),!0)}return!1},l.prototype._unsubscribe=function(){var o=this._parentSubscriber;this._context=null,this._parentSubscriber=null,o.unsubscribe()},l}(r);h.SafeSubscriber=n},3984:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(993),m=i(4720),e=i(7382),b=i(8574),_=function(){function s(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}return s.prototype.unsubscribe=function(){var r;if(!this.closed){var n=this,a=n._parentOrParents,l=n._ctorUnsubscribe,o=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof s)a.remove(this);else if(null!==a)for(var g=0;g<a.length;++g)a[g].remove(this);if(e.isFunction(o)){l&&(this._unsubscribe=void 0);try{o.call(this)}catch(S){r=S instanceof b.UnsubscriptionError?y(S.errors):[S]}}if(f.isArray(d)){g=-1;for(var E=d.length;++g<E;){var U=d[g];if(m.isObject(U))try{U.unsubscribe()}catch(C){r=r||[],C instanceof b.UnsubscriptionError?r=r.concat(y(C.errors)):r.push(C)}}}if(r)throw new b.UnsubscriptionError(r)}},s.prototype.add=function(r){var n=r;if(!r)return s.EMPTY;switch(typeof r){case"function":n=new s(r);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof s)){var a=n;(n=new s)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var l=n._parentOrParents;if(null===l)n._parentOrParents=this;else if(l instanceof s){if(l===this)return n;n._parentOrParents=[l,this]}else{if(-1!==l.indexOf(this))return n;l.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},s.prototype.remove=function(r){var n=this._subscriptions;if(n){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}},s.EMPTY=((r=new s).closed=!0,r),s;var r}();function y(s){return s.reduce(function(r,n){return r.concat(n instanceof b.UnsubscriptionError?n.errors:n)},[])}h.Subscription=_},8273:function(A,h){Object.defineProperty(h,"__esModule",{value:!0});var i=!1;h.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(f){if(f){var m=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+m.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=f},get useDeprecatedSynchronousErrorHandling(){return i}}},8207:function(A,h,i){var m=i(3576);function b(_){_.subscriber.error(_.error)}h._=function(_,y){return new m.Observable(y?function(s){return y.schedule(b,0,{error:_,subscriber:s})}:function(s){return s.error(_)})}},6232:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1476:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),h.$$rxSubscriber=h.rxSubscriber},8574:function(A,h){Object.defineProperty(h,"__esModule",{value:!0});var i=function(){function f(m){return Error.call(this),this.message=m?m.length+" errors occurred during unsubscription:\n"+m.map(function(e,b){return b+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=m,this}return f.prototype=Object.create(Error.prototype),f}();h.UnsubscriptionError=i},5730:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(7241);h.canReportError=function(e){for(;e;){var y=e.destination;if(e.closed||e.isStopped)return!1;e=y&&y instanceof f.Subscriber?y:null}return!0}},2434:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.hostReportError=function(f){setTimeout(function(){throw f},0)}},2516:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.identity=function(f){return f}},993:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.isArray=Array.isArray||function(i){return i&&"number"==typeof i.length}},7382:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.isFunction=function(f){return"function"==typeof f}},4720:function(A,h){Object.defineProperty(h,"__esModule",{value:!0}),h.isObject=function(f){return null!==f&&"object"==typeof f}},3915:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(2516);function e(b){return 0===b.length?f.identity:1===b.length?b[0]:function(y){return b.reduce(function(s,r){return r(s)},y)}}h.pipe=function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];return e(b)},h.pipeFromArray=e},7104:function(A,h,i){Object.defineProperty(h,"__esModule",{value:!0});var f=i(7241),m=i(1476),e=i(6011);h.toSubscriber=function(_,y,s){if(_){if(_ instanceof f.Subscriber)return _;if(_[m.rxSubscriber])return _[m.rxSubscriber]()}return _||y||s?new f.Subscriber(_,y,s):new f.Subscriber(e.empty)}},8805:function(A,h,i){i.r(h),i.d(h,{CustomerModule:function(){return W}});var f=i(9690),m=i(8583),e=i(639),b=i(7556),_=i(4026),y=i(7305),s=i(3321),r=i(9457),n=i(8239),a=i(4439);let l=(()=>{class p{constructor(){this._options={fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"",useBom:!0,noDownload:!1,headers:[],useHeader:!1,nullToEmptyString:!0}}get options(){return this._options}set options(t){this._options=t}build(t,c,v){return this.options.headers=Object.keys(t[0]),this.options.title=c,new a.Sv(t,v,this.options)}}return p.\u0275fac=function(t){return new(t||p)},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var o=i(8002),d=i(1635),g=i(7519),u=i(3679);function E(p,Z){if(1&p){const t=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(2," Refresh"),e.qZA(),e.qZA()}}const U=function(p){return{width:p}};let S=(()=>{class p{constructor(t,c){this.formBuilder=t,this.authService=c,this.progress=0,this.foundSearch=!1,this.searchChanged=new e.vpe,this.searchCustomerForm=null}ngOnInit(){this.searchCustomerForm=this.formBuilder.group({email:["",[u.kI.required,u.kI.minLength(3)]]}),this.onChanges()}reset(){this.searchChanged.emit(""),this.searchCustomerForm.controls.email.setValue("")}controls(){return this.searchCustomerForm.controls.email}onChanges(){var t=this;this.searchCustomerForm.valueChanges.pipe((0,o.U)(c=>(this.searchChanged.emit(c.email),c.email)),(0,d.b)(1500),(0,g.x)()).subscribe(function(){var c=(0,n.Z)(function*(v){yield t.targetServerSeach(v)});return function(v){return c.apply(this,arguments)}}())}targetServerSeach(t){var c=this;return(0,n.Z)(function*(){if(c.foundSearch)console.log("Result in client side");else{const v=yield c.authService.getCustomer(t.trim());c.authService.customerList.value.unshift(v),c.searchChanged.emit(t)}})()}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(u.qu),e.Y36(b.e))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-customer-search"]],inputs:{progress:"progress",foundSearch:"foundSearch",reset:"reset"},outputs:{searchChanged:"searchChanged"},decls:7,vars:8,consts:[[3,"formGroup"],[1,"row"],["type","text","name","email","formControlName","email","placeholder","Search by email",1,"form-control"],[1,"progress",2,"height","5px"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"ngStyle"],["class","col-md-4",4,"ngIf"],[1,"col-md-4"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,c){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"input",2),e.TgZ(4,"div",3),e._UZ(5,"div",4),e.qZA(),e.qZA(),e.YNc(6,E,3,0,"div",5),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",c.searchCustomerForm),e.xp6(2),e.Gre("col-md-",c.controls().value.length>0?"8":"12",""),e.xp6(3),e.Q6J("ngStyle",e.VKq(6,U,c.progress+"%")),e.xp6(1),e.Q6J("ngIf",c.controls().value.length>0))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,m.PC,m.O5],styles:[""]}),p})();var C=i(5304),x=i(8207),F=i(2013);function D(p,Z){if(1&p){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewUsermodule()}),e._uU(1,"New User"),e.qZA()}}function M(p,Z){if(1&p){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"New User"),e.qZA()}}function P(p,Z){if(1&p&&(e.TgZ(0,"option",32),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&p){const t=Z.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function j(p,Z){if(1&p){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveAndClose()}),e._uU(2,"Save"),e.qZA(),e.qZA()}}let I=(()=>{class p{constructor(t,c,v){this.formBuilder=t,this.usermoduleService=c,this.notificationService=v,this.creatingMethod="modal",this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.registerUsermodule=null,this.uploaded=!1,this.uploadedFiles=null,this.roles=["Customer","Admin","Rider"],this.errorMessage=""}ngOnInit(){this.registerUsermodule=this.formBuilder.group({fname:["",[u.kI.required,u.kI.minLength(3)]],lname:["",[u.kI.required,u.kI.minLength(3)]],email:["",[u.kI.required,u.kI.email]],password:["",[u.kI.required,u.kI.minLength(6)]],role:["",[u.kI.required]]})}addNewUsermodule(){}addByModal(){}get isformValid(){return"VALID"==this.registerUsermodule.status}handleFiles(t){t.target.files.length<1?(this.notificationService.openError("No File","No file selected, please select a file"),this.uploadedFiles=null):(this.uploaded=!0,this.uploadedFiles=t.target.files[0])}saveAndClose(){var t=this;if("INVALID"==this.registerUsermodule.status)return void this.notificationService.openError("Form Invalid","Please make sure the name & keywords fields have a value, also ensure you have an image uploaded");let c=new FormData;c.append("email",this.registerUsermodule.controls.email.value),c.append("password",this.registerUsermodule.controls.password.value),c.append("lname",this.registerUsermodule.controls.lname.value),c.append("fname",this.registerUsermodule.controls.fname.value),c.append("role",this.registerUsermodule.controls.role.value),this.uploadedFiles&&c.append("image",this.uploadedFiles,this.uploadedFiles.name),this.registerUsermodule.controls.password.setValue(""),this.errorMessage="",this.usermoduleService.regiser(c).pipe((0,C.K)(v=>(console.log(v),this.notificationService.openError("Issues creating user",v.data.response),this.errorMessage=v.data.response,(0,x._)(v)))).subscribe(function(){var v=(0,n.Z)(function*(T){if(console.log(T),T.data.status){t.registerUsermodule.controls.email.setValue(""),t.registerUsermodule.controls.fname.setValue(""),t.registerUsermodule.controls.lname.setValue(""),t.registerUsermodule.controls.role.setValue(""),t.notificationService.openSuccess("User Created",T.data.response);let L=t.usermoduleService.customerList.value;return L.unshift(T.data.user),t.usermoduleService.customerList.next(L),void document.getElementById("dismisscreatingusermodal").click()}if(!T.status||!T.data.status)return t.notificationService.openError("Issues creating user",T.data.response),void(t.errorMessage=T.data.response)});return function(T){return v.apply(this,arguments)}}())}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(u.qu),e.Y36(b.e),e.Y36(F.g))},p.\u0275cmp=e.Xpm({type:p,selectors:[["user-create"]],inputs:{creatingMethod:"creatingMethod",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack"},decls:51,vars:7,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target",".addusermodule-large-modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","addusermodule-large-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","addModalLabel",1,"modal-title","flaging"],["type","button","id","dismisscreatingusermodal","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-6","mb-4"],["type","text","name","fname","formControlName","fname","placeholder","Firstname",1,"form-control"],[1,"col-md-6","mb-2"],["type","text","name","lname","formControlName","lname","placeholder","Lastname",1,"form-control"],["type","email","name","email","formControlName","email","value","","placeholder","Email",1,"form-control"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","role",1,"input-group-text"],["id","selectRoleForNewUser","name","role","formControlName","role",1,"custom-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["type","password","name","password","formControlName","password","max","100","placeholder","Enter password (Must be up to 6)",1,"form-control"],[1,"custom-file-upload"],["formControlName","image","accept","image/*","name","image","type","file",3,"change"],[1,"col-md-12","mb-4"],["class","modal-footer",4,"ngIf"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target",".addusermodule-large-modal",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,D,2,0,"a",2),e.YNc(3,M,2,0,"a",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._uU(10,"New User"),e.qZA(),e.TgZ(11,"button",9),e.TgZ(12,"span",10),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",1),e.TgZ(17,"form",13),e.TgZ(18,"div",12),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA(),e.TgZ(21,"div",16),e._UZ(22,"input",17),e.qZA(),e.TgZ(23,"div",14),e._UZ(24,"input",18),e.qZA(),e.TgZ(25,"div",14),e.TgZ(26,"div",19),e.TgZ(27,"div",20),e.TgZ(28,"label",21),e.TgZ(29,"strong"),e._uU(30," Role "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"select",22),e.TgZ(32,"option",23),e._uU(33,"Select Role..."),e.qZA(),e.YNc(34,P,3,4,"option",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",14),e._UZ(36,"input",25),e.TgZ(37,"p"),e._uU(38,"Max: "),e.TgZ(39,"strong"),e._uU(40,"100"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"label",26),e.TgZ(43,"input",27),e.NdJ("change",function(T){return c.handleFiles(T)}),e.qZA(),e._uU(44," Profile Picture "),e.qZA(),e.TgZ(45,"p"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"div",28),e.TgZ(48,"p"),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(50,j,3,0,"div",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==c.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==c.creatingMethod),e.xp6(14),e.Q6J("formGroup",c.registerUsermodule),e.xp6(17),e.Q6J("ngForOf",c.roles),e.xp6(12),e.Oqu(c.uploaded?"Uploaded":"Yet to upload"),e.xp6(3),e.Oqu(c.errorMessage),e.xp6(1),e.Q6J("ngIf",c.isformValid))},directives:[m.O5,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,u.EJ,u.YN,u.Kr,m.sg],pipes:[m.rS],styles:[".flaging[_ngcontent-%COMP%]{color:#003049}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #003049;display:inline-block;padding:6px 12px;cursor:pointer}"]}),p})();var w=i(2533);function R(p,Z){if(1&p&&(e.TgZ(0,"tr"),e.TgZ(1,"th",19),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.qZA()),2&p){const t=Z.$implicit,c=Z.index;e.xp6(2),e.Oqu(c+1),e.xp6(2),e.hij(" ",null!=t&&t.fname?null==t?null:t.fname:"Yet to update"," "),e.xp6(2),e.hij(" ",null!=t&&t.lname?null==t?null:t.lname:"Yet to update"," "),e.xp6(2),e.hij(" ",null==t?null:t.email," "),e.xp6(2),e.hij(" ",null==t?null:t.role," "),e.xp6(2),e.hij(" ",null!=t&&t.email_verified_at?null==t?null:t.email_verified_at:"Yet to verify"," "),e.xp6(2),e.Oqu(null==t?null:t.created_at)}}function k(p,Z){1&p&&(e.TgZ(0,"div",5),e.TgZ(1,"div",20),e.TgZ(2,"p"),e._uU(3,"No data found"),e.qZA(),e.qZA(),e.qZA())}function H(p,Z){if(1&p){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",3),e.TgZ(2,"div",5),e.TgZ(3,"span",21),e._uU(4,"Items/Page"),e.qZA(),e.TgZ(5,"select",22),e.NdJ("ngModelChange",function(v){return e.CHM(t),e.oxw().itemsPerPage=v}),e.TgZ(6,"option",23),e._uU(7,"1"),e.qZA(),e.TgZ(8,"option",24),e._uU(9,"2"),e.qZA(),e.TgZ(10,"option",25),e._uU(11,"10"),e.qZA(),e.TgZ(12,"option",26),e._uU(13,"20"),e.qZA(),e.TgZ(14,"option",27),e._uU(15,"50"),e.qZA(),e.TgZ(16,"option",28),e._uU(17,"100"),e.qZA(),e.TgZ(18,"option",29),e._uU(19,"500"),e.qZA(),e.TgZ(20,"option",30),e._uU(21,"1000"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",4),e.TgZ(23,"pagination-controls",31),e.NdJ("pageChange",function(v){return e.CHM(t),e.oxw().eventpage(v)}),e.qZA(),e.qZA(),e.qZA()}if(2&p){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.itemsPerPage),e.xp6(18),e.Q6J("responsive",!0)}}const J=function(p,Z){return{id:"customerList",itemsPerPage:p,currentPage:Z}};let B=(()=>{class p{constructor(t,c){this.authService=t,this.exporter=c,this.users=[],this.itemsPerPage=1,this.currentPage=1,this.searchprgress=0,this.foundResult=!1}ngOnInit(){var t=this;return(0,n.Z)(function*(){t.users=t.authService.customerList.value;const c=setInterval(()=>{t.searchprgress<100&&(t.searchprgress=t.searchprgress+10)},3e3);let v=yield t.authService.getCustomers();t.searchprgress=100,clearInterval(c),t.authService.customerList.next(v.data.reverse()),t.authService.customerList.subscribe(T=>t.users=T)})()}searchFunction(t){this.users=this.authService.customerList.value.filter(c=>{var v;return null===(v=c.email)||void 0===v?void 0:v.includes(t)}),this.users.length>0?(this.foundResult=!0,this.searchprgress=20,setTimeout(()=>{this.searchprgress=this.searchprgress+30},1e3),this.searchprgress=this.searchprgress+50):(this.foundResult=!1,this.searchprgress=100)}exportData(t){let c=this.exporter.build(this.users,"Customer List",`customer_list_${Date.now()}`);console.log(c)}eventpage(t){this.currentPage=t,console.log(t)}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(b.e),e.Y36(l))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-customer-list"]],decls:41,vars:11,consts:[[1,"card","card-box","text-left"],[1,"card-body"],[1,"row","m-3"],[1,"col-md-3"],[1,"col-md-9","text-right"],[1,"row"],[1,"col-md-8"],[3,"progress","foundSearch","searchChanged"],[1,"col-md-4","sharedem"],[1,"shedroom"],[1,"dropdown","shedroom"],["href","javascript:void(0)","role","button","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-right"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["scope","row"],[1,"col-md-12","text-center"],["for","customerListTableDataNumber",1,"col-md-6","pp"],["id","customerListTableDataNumber","name","customerListTableDataNumber",1,"custom-select","col-md-6",3,"ngModel","ngModelChange"],["selected","","value","1"],["value","2"],["value","10"],["value","20"],["value","50"],["value","100"],["value","500"],["value","1000"],["id","customerList",1,"my-pagination",3,"responsive","pageChange"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5"),e._uU(5,"Customers List"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"app-customer-search",7),e.NdJ("searchChanged",function(T){return c.searchFunction(T)}),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"user-create",9),e.TgZ(12,"div",10),e.TgZ(13,"a",11),e._uU(14," Export "),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"a",13),e.NdJ("click",function(){return c.exportData("csv")}),e._uU(17,"CSV"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"table",15),e.TgZ(20,"thead"),e.TgZ(21,"tr"),e.TgZ(22,"th",16),e._uU(23,"ID"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"First Name"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Last Name "),e.qZA(),e.TgZ(28,"th",16),e._uU(29,"Email"),e.qZA(),e.TgZ(30,"th",16),e._uU(31,"Role"),e.qZA(),e.TgZ(32,"th",16),e._uU(33,"Email Status"),e.qZA(),e.TgZ(34,"th",16),e._uU(35,"Created "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"tbody"),e.YNc(37,R,15,7,"tr",17),e.ALo(38,"paginate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(39,k,4,0,"div",18),e.YNc(40,H,24,2,"div",18),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("progress",c.searchprgress)("foundSearch",c.foundResult),e.xp6(28),e.Q6J("ngForOf",e.xi3(38,5,c.users,e.WLB(8,J,c.itemsPerPage,c.currentPage))),e.xp6(2),e.Q6J("ngIf",c.users.length<1),e.xp6(1),e.Q6J("ngIf",c.users.length>0))},directives:[S,I,m.sg,m.O5,u.EJ,u.JJ,u.On,u.YN,u.Kr,w.LS],pipes:[w._s],styles:[".pp[_ngcontent-%COMP%]{font-size:14px;font-weight:500;padding:1rem}.sharedem[_ngcontent-%COMP%]{display:flex}.shedroom[_ngcontent-%COMP%]{width:50%}"]}),p})();var N=i(5227);let Y=(()=>{class p{constructor(t){this.userService=t,this.routeData={name:"User Dashboard",route:"/dashboard"}}ngAfterViewInit(){$(".dial2").knob(),$({animatedVal:0}).animate({animatedVal:60},{duration:3e3,easing:"swing",step:function(){$(".dial2").val(Math.ceil(this.animatedVal)).trigger("change")}}),$(".dial3").knob(),$({animatedVal:0}).animate({animatedVal:40},{duration:3e3,easing:"swing",step:function(){$(".dial3").val(Math.ceil(this.animatedVal)).trigger("change")}}),$(".dial4").knob(),$({animatedVal:0}).animate({animatedVal:75},{duration:3e3,easing:"swing",step:function(){$(".dial4").val(Math.ceil(this.animatedVal)).trigger("change")}}),$("#dynamic-alert").click(function(){swal.queue([{title:"Generating Report",confirmButtonText:"Generate",text:"Your public IP will be received via a network request. You have to be connected to the internet to enjoy this feature and turn off any vpn/firewall connection.",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(t){$.get("https://api.ipify.org?format=json").done(function(c){swal.insertQueueStep(c.ip),t(c)})})}}])})}ngOnInit(){}refresh(){}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(b.e))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-index"]],decls:71,vars:10,consts:[[1,"mobile-menu-overlay"],[1,"main-container"],[1,"pd-ltr-20"],[1,"row"],["id","plans",1,"col-sm-12","col-md-12","mb-30"],[3,"routeData"],[1,"col-sm-12","col-md-12","mb-30"],[1,"row","clearfix","progress-box"],[1,"col-lg-3","col-md-6","col-sm-12","mb-30"],[1,"card","text-white","bg-info","card-box"],[1,"card-header"],[1,"card-body"],[1,"card-title","text-white","mb-2"],[1,"card-text"],[1,"card-title","text-white"],[1,"card-footer","pointer",3,"click"],[1,"icon-copy","fi-refresh"],[1,"card-box","pd-30","height-100-p"],[1,"progress-box","text-center"],[2,"display","inline","width","120px","height","120px"],["type","text","value","70","data-width","120","data-height","120","data-linecap","round","data-thickness","0.12","data-bgcolor","#fff","data-fgcolor","#00e091","data-angleoffset","180","readonly","readonly",1,"knob","dial2",2,"width","64px","height","40px","position","absolute","vertical-align","middle","margin-top","40px","margin-left","-92px","border","0px","background","none rgb(255, 255, 255)","font","bold 24px Arial","text-align","center","color","rgb(0, 224, 145)","padding","0px","appearance","none"],[1,"text-light-green","padding-top-10","h5"],[1,"d-block"],[1,"fa","text-light-green","fa-line-chart"],["type","text","value","90","data-width","120","data-height","120","data-linecap","round","data-thickness","0.12","data-bgcolor","#fff","data-fgcolor","#f56767","data-angleoffset","180","readonly","readonly",1,"knob","dial3",2,"width","64px","height","40px","position","absolute","vertical-align","middle","margin-top","40px","margin-left","-92px","border","0px","background","none rgb(255, 255, 255)","font","bold 24px Arial","text-align","center","color","rgb(245, 103, 103)","padding","0px","appearance","none"],[1,"text-light-orange","padding-top-10","h5"],[1,"fa","text-light-orange","fa-line-chart"],[1,"card","text-white","bg-dark","card-box"]],template:function(t,c){if(1&t&&(e._UZ(0,"app-header"),e._UZ(1,"app-right-navigation"),e._UZ(2,"app-left-navigation"),e._UZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"app-page-header",5),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e._uU(14,"Customer Information"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"h4",12),e._uU(17,"Admins"),e.qZA(),e.TgZ(18,"p",13),e._uU(19),e.ALo(20,"async"),e.qZA(),e._UZ(21,"hr"),e.TgZ(22,"h5",14),e._uU(23,"Customers"),e.qZA(),e.TgZ(24,"p",13),e._uU(25),e.ALo(26,"async"),e.qZA(),e.qZA(),e.TgZ(27,"div",15),e.NdJ("click",function(){return c.refresh()}),e._UZ(28,"i",16),e._uU(29," Refresh"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"div",17),e.TgZ(32,"div",18),e.TgZ(33,"div",19),e._UZ(34,"input",20),e.qZA(),e.TgZ(35,"h5",21),e._uU(36,"IOS Users "),e.qZA(),e.TgZ(37,"span",22),e._uU(38,"60% Average "),e._UZ(39,"i",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",8),e.TgZ(41,"div",17),e.TgZ(42,"div",18),e.TgZ(43,"div",19),e._UZ(44,"input",24),e.qZA(),e.TgZ(45,"h5",25),e._uU(46,"Android Users"),e.qZA(),e.TgZ(47,"span",22),e._uU(48,"40% Aaverage "),e._UZ(49,"i",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",8),e.TgZ(51,"div",27),e.TgZ(52,"div",10),e._uU(53,"Customer Status"),e.qZA(),e.TgZ(54,"div",11),e.TgZ(55,"h4",12),e._uU(56,"Active Customer"),e.qZA(),e.TgZ(57,"p",13),e._uU(58),e.ALo(59,"async"),e.qZA(),e._UZ(60,"hr"),e.TgZ(61,"h5",14),e._uU(62,"Inacive Customers"),e.qZA(),e.TgZ(63,"p",13),e._uU(64,"0"),e.qZA(),e.qZA(),e.TgZ(65,"div",15),e.NdJ("click",function(){return c.refresh()}),e._UZ(66,"i",16),e._uU(67," Download"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",6),e._UZ(69,"app-customer-list"),e.qZA(),e.qZA(),e.qZA(),e._UZ(70,"app-footer"),e.qZA()),2&t){let v,T,q;e.xp6(8),e.Q6J("routeData",c.routeData),e.xp6(11),e.Oqu(null==(v=e.lcZ(20,4,c.userService.customerList))?null:v.length),e.xp6(6),e.Oqu(null==(T=e.lcZ(26,6,c.userService.customerList))?null:T.length),e.xp6(33),e.Oqu(null==(q=e.lcZ(59,8,c.userService.customerList))?null:q.length)}},directives:[_.G,y.p,s.G,r.q,B,N.c],pipes:[m.Ov],styles:[""]}),p})();var O=i(7515);const Q=[{path:"",component:Y,canActivate:[i(5848).J]}];let G=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[[O.Bz.forChild(Q)],O.Bz]}),p})(),W=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[[m.ez,f.m,G]]}),p})()}}]);