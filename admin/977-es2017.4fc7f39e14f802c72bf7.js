"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[977],{2977:function($e,x,d){d.r(x),d.d(x,{StoreModule:function(){return Be}});var c=d(8583),q=d(9690),e=d(639);let k=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.ez,q.m]]}),a})();var F=d(5848),N=d(5702),C=d(501),f=d(2e3),J=d(4026),O=d(7305),I=d(3321),P=d(9457),u=d(8002),g=d(5304),m=d(6215),b=d(2340),L=d(1841),A=d(7515);let T=(()=>{class a{constructor(t,o){this.http=t,this.router=o,this._addressList=new m.X([]),this._viewedAddressList=new m.X([]),this._viewingAddress=new m.X(null),this._fetchedListed=new m.X(!1),this.serverUrl="http://127.0.0.1:3000",this.serverApiUrl=`${b.N.api}/api/auth`}get fetchedListed(){return this._fetchedListed}set fetchedListed(t){this._fetchedListed=t}get viewingAddress(){return this._viewingAddress}set viewingAddress(t){this._viewingAddress=t}get viewedAddressList(){return this._viewedAddressList}addNewView(t){return this.viewedAddressList.pipe((0,u.U)(o=>{let i=o.findIndex(l=>l.id==t.id);return i>-1&&o.splice(i,1),o.push(t),this._viewingAddress.next(t),this._viewedAddressList.next(o),o}))}get addressList(){return this._addressList}set addressList(t){this._addressList=t}goToSinglePage(t,o){this.addNewView(o).subscribe(i=>{this.router.navigate([t])})}selectAddress(t){return this.viewedAddressList.pipe((0,u.U)(o=>{let i=o.find(l=>l.id==t);return i.id&&this._viewingAddress.next(i),this._viewingAddress}))}getAllAddresss(t){return this.getAll(t)}getAll(t){return this.http.get(`${this.serverApiUrl}/address/get`).pipe((0,u.U)(o=>(o.data.address=o.data.address.reverse(),o.data)),(0,g.K)(o=>{throw t(o),o}))}getEssentials(t){return this.http.get(`${this.serverUrl}/addresss?discount=20&_limit=4`).pipe((0,u.U)(o=>o.data),(0,g.K)(o=>{throw t(o),o}))}getHomeTop2(t){return this.http.get(`${this.serverUrl}/addresss?_limit=2`).pipe((0,u.U)(o=>o),(0,g.K)(o=>{throw t(o),o}))}create(t,o){return this.http.post(`${this.serverApiUrl}/address/create`,t).pipe((0,u.U)(i=>i.data),(0,g.K)(i=>{throw o(i),i}))}update(t,o){return this.http.post(`${this.serverUrl}/update-profile`,t).pipe((0,g.K)(i=>{throw o(i),i}))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(L.eN),e.LFG(A.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Z=d(8239),n=d(3679),D=d(9773);let h=(()=>{class a{constructor(t){this.http=t,this.serverUrl="http://127.0.0.1:3000",this.apiserverUrl=`${b.N.api}/api/auth`,this._apiserverBaseUrl=`${b.N.api}`,this._locationList=new m.X([]),this._apiFetched=new m.X("yet")}get apiserverBaseUrl(){return this._apiserverBaseUrl}set apiserverBaseUrl(t){this._apiserverBaseUrl=t}get apiFetched(){return this._apiFetched}set apiFetched(t){this._apiFetched=t}get locationList(){return this._locationList}set locationList(t){this._locationList=t}setLocation(t){this._locationList.next(t)}getAll(t){return this.locationList.pipe((0,u.U)(o=>o),(0,D.zg)(()=>this.servergetAll(t)))}mapForPie(){return this.locationList.value.map((t,o)=>[t.name,(o+1)/this.locationList.value.length*360,!1])}servergetAll(t){return this.http.get(`${this.apiserverUrl}/location/get`).pipe((0,u.U)(o=>(console.log(o),o.data.locations.map(i=>({created_at:i.created_at,id:i.id,image:`${this.apiserverBaseUrl}${i.image}`,image_id:i.image_id,name:i.name,status:i.status,updated_at:i.updated_at})).reverse())),(0,g.K)(o=>{throw t(o),o}))}create(t,o){return this.http.post(`${this.apiserverUrl}/location/create`,t).pipe((0,u.U)(i=>(console.log(i),i.data)),(0,g.K)(i=>{throw o(i),i}))}update(t,o){return this.http.post(`${this.apiserverUrl}/location/update`,t).pipe((0,g.K)(i=>{throw o(i),i}))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(L.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var _=d(2013);function Y(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewAddress()}),e._uU(1,"Add"),e.qZA()}}function B(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"Add"),e.qZA()}}function Q(a,r){if(1&a&&(e.TgZ(0,"option",31),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}let j=(()=>{class a{constructor(t,o,i,l,s){this.formBuilder=t,this.storeService=o,this.addressService=i,this.locationService=l,this.notificationService=s,this.creatingMethod="modal",this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.registeraddress=null,this.uploaded=!1,this.uploadedFiles=null,this.selectAddressStore=null}ngOnInit(){this.registeraddress=this.formBuilder.group({no:["",[n.kI.required,n.kI.minLength(1)]],street:["",[n.kI.required,n.kI.minLength(3)]],store:["",[n.kI.required]],lgm:["",[n.kI.required,n.kI.minLength(3)]],state:["Lagos",[n.kI.required,n.kI.minLength(3)]],country:["Nigeria",[n.kI.required,n.kI.minLength(3)]]})}addNewAddress(){}addByModal(){}saveAndClose(){var t=this;if(console.log(this.uploadedFiles),"INVALID"==this.registeraddress.status)return void this.notificationService.openError("Form Invalid","Please make sure the name & keywords fields have a value, also ensure you have an image uploaded");let o=new FormData;o.append("no",this.registeraddress.controls.no.value),o.append("street",this.registeraddress.controls.street.value),o.append("location",this.registeraddress.controls.store.value),o.append("lgm",this.registeraddress.controls.lgm.value),o.append("state",this.registeraddress.controls.state.value),o.append("country",this.registeraddress.controls.country.value),this.addressService.create(o,i=>{}).subscribe(function(){var i=(0,Z.Z)(function*(l){if(console.log(l),l.location&&(t.locationService.apiFetched.next("fetching"),t.notificationService.openSuccess("Location notification",l.message),l.address)){let s=t.locationService.locationList.value;s.unshift(l.address),t.locationService.setLocation(s),t.locationService.apiFetched.next("completed"),t.registeraddress.reset()}});return function(l){return i.apply(this,arguments)}}())}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(f.d),e.Y36(T),e.Y36(h),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["address-create"]],inputs:{creatingMethod:"creatingMethod",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack"},decls:43,vars:6,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target",".addaddress-large-modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","addaddress-large-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","addModalLabel",1,"modal-title","flaging"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-6"],["type","text","name","no","formControlName","no","placeholder","address no",1,"form-control"],[1,"col-md-6","mb-4"],["type","text","name","street","formControlName","street","placeholder","address street",1,"form-control"],["type","text","name","lgm","formControlName","lgm","placeholder","address lgm",1,"form-control"],["type","text","name","state","formControlName","state","value","Lagos","placeholder","address state",1,"form-control"],["type","text","name","country","formControlName","country","value","Nigeria","placeholder","address country",1,"form-control"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","selectAddressStore",1,"input-group-text"],["id","createselectAddressStore","name","store","formControlName","store",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target",".addaddress-large-modal",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Y,2,0,"a",2),e.YNc(3,B,2,0,"a",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._uU(10,"New Address"),e.qZA(),e.TgZ(11,"button",9),e.TgZ(12,"span",10),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",1),e.TgZ(17,"form",13),e.TgZ(18,"div",12),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA(),e.TgZ(21,"div",16),e._UZ(22,"input",17),e.qZA(),e.TgZ(23,"div",16),e._UZ(24,"input",18),e.qZA(),e.TgZ(25,"div",16),e._UZ(26,"input",19),e.qZA(),e.TgZ(27,"div",16),e._UZ(28,"input",20),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"div",21),e.TgZ(31,"div",22),e.TgZ(32,"label",23),e.TgZ(33,"strong"),e._uU(34," Location "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"select",24),e.YNc(36,Q,3,4,"option",25),e.ALo(37,"async"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",26),e.TgZ(39,"button",27),e._uU(40,"Close"),e.qZA(),e.TgZ(41,"button",28),e.NdJ("click",function(){return o.saveAndClose()}),e._uU(42,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==o.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==o.creatingMethod),e.xp6(14),e.Q6J("formGroup",o.registeraddress),e.xp6(19),e.Q6J("ngForOf",e.lcZ(37,4,o.locationService.locationList)))},directives:[c.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,c.sg,n.YN,n.Kr],pipes:[c.Ov,c.rS],styles:[""]}),a})();function E(a,r){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e._UZ(15,"td"),e.qZA()),2&a){const t=r.$implicit,o=r.index;e.xp6(2),e.Oqu(o),e.xp6(2),e.Oqu(null==t?null:t.no),e.xp6(2),e.Oqu(null==t?null:t.street),e.xp6(2),e.Oqu(null==t?null:t.lgm),e.xp6(2),e.Oqu(null==t?null:t.state),e.xp6(2),e.Oqu(null==t?null:t.country),e.xp6(2),e.Oqu(null==t?null:t.status)}}let V=(()=>{class a{constructor(t){this.addressService=t,this.dataList=[]}ngOnInit(){this.addressService.getAllAddresss(t=>{}).subscribe(t=>{console.log(t),this.addressService.addressList.next(t.address)}),this.addressService.addressList.subscribe(t=>this.dataList=t)}saveNewAddressCb(){alert("Yoplllfdlsfds")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(T))},a.\u0275cmp=e.Xpm({type:a,selectors:[["address-list"]],decls:33,vars:3,consts:[[1,"card","card-box","text-left"],[1,"card-body"],["id","addressListTop",1,"row","m-3"],["addressListTop",""],[1,"col-md-9"],[1,"col-md-3","text-right"],[3,"creatingMethod","saveModalCallBack"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12","text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e.TgZ(5,"h5"),e._uU(6,"Address List"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"address-create",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"table",8),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",9),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"No"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"Street"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Lgm"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"State"),e.qZA(),e.TgZ(23,"th",9),e._uU(24,"Country"),e.qZA(),e.TgZ(25,"th",9),e._uU(26,"Status"),e.qZA(),e.TgZ(27,"th",9),e._uU(28,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,E,16,7,"tr",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",11),e._UZ(32,"div",12),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("creatingMethod","modal")("saveModalCallBack",o.saveNewAddressCb),e.xp6(22),e.Q6J("ngForOf",o.dataList))},directives:[j,c.sg],styles:[".user-icon[_ngcontent-%COMP%]{height:60px;width:69px}"]}),a})();function G(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewLocation()}),e._uU(1,"Add"),e.qZA()}}function H(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"Add"),e.qZA()}}let K=(()=>{class a{constructor(t,o,i){this.formBuilder=t,this.locationService=o,this.notificationService=i,this.creatingMethod="modal",this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.registerLocation=null,this.uploaded=!1,this.uploadedFiles=null}ngOnInit(){this.registerLocation=this.formBuilder.group({name:["",[n.kI.required,n.kI.minLength(2)]],time:["",[n.kI.required]],fee:["",[n.kI.required,n.kI.minLength(2)]],image:[null,[n.kI.required]]})}addNewLocation(){}addByModal(){}saveAndClose(){var t=this;if(console.log(this.registerLocation),"INVALID"==this.registerLocation.controls.name.status||!this.uploaded)return void this.notificationService.openError("Form Invalid","Please make sure the name & keywords fields have a value, also ensure you have an image uploaded");let o=new FormData;o.append("name",this.registerLocation.controls.name.value),o.append("fee",this.registerLocation.controls.fee.value),o.append("time",this.registerLocation.controls.time.value),o.append("image",this.uploadedFiles,this.uploadedFiles.name),this.locationService.create(o,()=>{}).subscribe(function(){var i=(0,Z.Z)(function*(l){if(console.log(l),l.location){t.locationService.apiFetched.next("fetching"),t.notificationService.openSuccess("Location notification",l.message);let s=t.locationService.locationList.value;s.unshift(l.location),t.locationService.setLocation(s),t.locationService.apiFetched.next("completed"),t.registerLocation.reset(),t.uploadedFiles=null,t.uploaded=!1}});return function(l){return i.apply(this,arguments)}}())}handleFiles(t){t.target.files.length<1?(this.notificationService.openError("No File","No file selected, please select a file"),this.uploadedFiles=null,this.uploaded=!1):(this.uploaded=!0,this.uploadedFiles=t.target.files[0])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(h),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["location-create"]],inputs:{creatingMethod:"creatingMethod",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack"},decls:34,vars:3,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target",".addlocation-large-modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","addlocation-large-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","addModalLocationLabel",1,"modal-title","flaging"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-6","mb-2"],["type","text","name","name","formControlName","name","placeholder","Location name",1,"form-control"],["type","number","name","time","formControlName","time","placeholder","Location time (minutes)",1,"form-control"],["type","text","name","number","formControlName","fee","placeholder","Location Fee",1,"form-control"],[1,"custom-file-upload"],["accept","image/*","name","image","type","file",3,"change"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target",".addlocation-large-modal",1,"btn","btn-primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,G,2,0,"a",2),e.YNc(3,H,2,0,"a",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._uU(10,"New Location"),e.qZA(),e.TgZ(11,"button",9),e.TgZ(12,"span",10),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",1),e.TgZ(17,"form",13),e.TgZ(18,"div",12),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA(),e.TgZ(21,"div",14),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",14),e._UZ(24,"input",17),e.qZA(),e.TgZ(25,"div",14),e.TgZ(26,"label",18),e.TgZ(27,"input",19),e.NdJ("change",function(l){return o.handleFiles(l)}),e.qZA(),e._uU(28," Select Image "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",20),e.TgZ(30,"button",21),e._uU(31,"Close"),e.qZA(),e.TgZ(32,"button",22),e.NdJ("click",function(){return o.saveAndClose()}),e._uU(33,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==o.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==o.creatingMethod),e.xp6(14),e.Q6J("formGroup",o.registerLocation))},directives:[c.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.wV],styles:[""]}),a})();function X(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewProduct()}),e._uU(1,"Update"),e.qZA()}}function R(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"Update"),e.qZA()}if(2&a){const t=e.oxw();e.uIk("data-target",".updateproductLargeModal"+(null==t.location?null:t.location.id)+t.index)}}function z(a,r){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function W(a,r){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function ee(a,r){if(1&a&&(e.TgZ(0,"option",46),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}const v=function(){return{standalone:!0}};function te(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.time=i}),e.qZA(),e.qZA(),e.TgZ(8,"td"),e.TgZ(9,"input",48),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.fee=i}),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"div",21),e.TgZ(12,"select",49),e.NdJ("change",function(i){const s=e.CHM(t).$implicit;return e.oxw().updateStatus(i,s.to)})("ngModelChange",function(i){return e.CHM(t).$implicit.status=i}),e.TgZ(13,"option",26),e._uU(14),e.qZA(),e.YNc(15,ee,3,4,"option",27),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=r.$implicit,o=r.index,i=e.oxw();e.xp6(3),e.hij(" ",null==t?null:t.from," "),e.xp6(2),e.Oqu(null==t?null:t.to),e.xp6(2),e.Q6J("ngModel",t.time)("ngModelOptions",e.DdM(13,v)),e.xp6(2),e.Q6J("ngModel",t.fee)("ngModelOptions",e.DdM(14,v)),e.xp6(3),e.MGl("id","status_i_",o,""),e.MGl("name","status_i_",o,""),e.Q6J("ngModelOptions",e.DdM(15,v))("ngModel",t.status),e.xp6(1),e.s9C("value",null==t?null:t.status),e.xp6(1),e.Oqu(null==t?null:t.status),e.xp6(1),e.Q6J("ngForOf",i.statusAvailable)}}function oe(a,r){if(1&a&&(e.TgZ(0,"div",12),e._uU(1," Are you sure you want to move "),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._uU(4," to Trash/Recycle bin? "),e.qZA()),2&a){const t=e.oxw();e.xp6(3),e.Oqu(null==t.location?null:t.location.name)}}function ae(a,r){if(1&a&&(e.TgZ(0,"div",12),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3," Deleted "),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Oqu(null==t.location?null:t.location.name)}}const S=function(a){return{deleting:a}},ie=function(a){return{touched:a}};let ne=(()=>{class a{constructor(t,o,i){this.formBuilder=t,this.locationService=o,this.notificationService=i,this.creatingMethod="modal",this.location={},this.deleting=!1,this.deleted=!1,this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.index=0,this.updatedLocation=new e.vpe,this.updateCategoryForm=null,this.uploadedFiles=null,this.newPairing=null,this.uploaded=!1,this.locationList=[],this.mappedLocations=[],this.statusAvailable=[{id:1,name:"visible"},{id:2,name:"hide"}],this.message=""}ngOnDestroy(){document.getElementById(`updateModalButtonClose${this.location.id}`).click()}ngOnInit(){this.locationService.locationList.subscribe(t=>{this.locationList=t}),this.updateCategoryForm=this.formBuilder.group({id:[this.location.id,[n.kI.required]],createnewPairing:["",[]],name:[this.location.name,[n.kI.required,n.kI.minLength(3)]],image:["",[n.kI.required,n.kI.nullValidator]]}),this.location.pairings&&(this.mappedLocations=this.location.pairings)}ngOnChanges(t){}handleFiles(t){t.target.files.length<1?(this.notificationService.openError("No File","No file selected, please select a file"),this.uploadedFiles=null):(this.uploaded=!0,this.uploadedFiles=t.target.files[0])}selectLocation(t){this.message="",this.mappedLocations.find(i=>i.to==t&&i.from==this.location.name)?(this.notificationService.openInfo("Added Already","Pairing registered already"),this.message="Pairing registered already"):(this.mappedLocations.unshift({id:null,from:this.location.name,to:t,toId:this.locationService.locationList.value.find(i=>i.name==t),time:"30 Mins",fee:1e3,status:"visible"}),this.locationList=this.locationService.locationList.value.filter(i=>i.name!==t),this.message="Pairing registered already",this.notificationService.openInfo("Added","Pairing added"))}updateStatusOfLocation(t){this.location.touched=this.location.newstatus!=this.location.status}updateStatus(t,o){let i=t.target.value;console.log(t),console.log(i),console.log(o),"Remove"==i&&(this.mappedLocations=this.mappedLocations.filter(l=>l.to!==o),this.locationList.unshift(this.locationService.locationList.value.find(l=>l.name==o)))}yesDelete(t){this.deleted=!0,setTimeout(()=>{this.deleting=!1,document.getElementById(`${t}${this.location.id}${this.index}`).click(),this.deleted=!1},2e3)}addNewProduct(){}flushProduct(){}addByModal(){}saveChanges(){if(this.message="",this.updateCategoryForm.controls.name.invalid)return this.message=`Location name required.\nPrevious: ${this.location.name}`,void this.notificationService.openInfo("Name required",this.message);if(this.mappedLocations.map(i=>{let l="";i.time||(l+=`${i.from} - ${i.to} requires an estimated timing, eg 30 Mins, 1 hour etc\n`),(!i.fee||i.fee<1e3)&&(l+=`${i.from} - ${i.to} requires an estimated fee greater than 1000\n`),this.message+=l}),this.message.length>0)return void this.notificationService.openInfo("Issues updating",this.message);let t=this.location.status;this.location.newstatus&&(t=this.location.newstatus?this.location.newstatus:this.location.status,this.location.newstatus=void 0),this.location=Object.assign(Object.assign({},this.location),{name:this.updateCategoryForm.controls.name.value,status:t,pairings:this.mappedLocations});let o=new FormData;o.append("id",this.location.id),o.append("name",this.location.name),this.location.pairings.length>0&&o.append("pairing",JSON.stringify(this.location.pairings)),this.locationService.update(o,i=>{console.log(i)}).subscribe(i=>{console.log(i)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(h),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-location-update"]],inputs:{creatingMethod:"creatingMethod",location:"location",deleting:"deleting",deleted:"deleted",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack",index:"index"},outputs:{updatedLocation:"updatedLocation"},features:[e.TTD],decls:88,vars:43,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-outline-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-outline-primary btn-sm","type","button","data-toggle","modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true"],["role","document",1,"modal-dialog","modal-lg",3,"ngClass"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","flaging",3,"id"],[1,"user-icon","mr-1",3,"src","alt"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"id","click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-9"],["type","text","name","name","formControlName","name","placeholder","location name",1,"form-control"],[1,"col-md-3","mb-4"],[1,"custom-file-upload"],["formControlName","image","accept","image/*","name","image","type","file",3,"change"],[1,"col-md-6","mb-4"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","status",1,"input-group-text"],[3,"ngClass"],["name","status_location_i",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","newPairing",1,"input-group-text"],["id","createnewPairing","name","createnewPairing",1,"custom-select",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-md-12","mb-4"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["tabindex","-3","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog"],[1,"modal-title",3,"id"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["class","modal-body",4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"id","click"],["type","button",1,"btn","btn-primary",3,"ngClass","id","click"],["href","javascript:void(0)",1,"btn","btn-outline-primary","btn-sm",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-outline-primary","btn-sm",3,"click"],[3,"value"],["type","text","placeholder","Estimated time",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","min","1000","placeholder","Fee",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"custom-select",3,"id","name","ngModelOptions","ngModel","change","ngModelChange"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,X,2,0,"a",2),e.YNc(3,R,2,1,"button",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._UZ(10,"img",9),e.TgZ(11,"span"),e._uU(12,"Update location"),e.qZA(),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){return o.flushProduct()}),e.TgZ(14,"span",11),e._uU(15,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",12),e.TgZ(17,"div",13),e.TgZ(18,"div",1),e.TgZ(19,"form",14),e.TgZ(20,"div",13),e.TgZ(21,"div",15),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",17),e.TgZ(24,"label",18),e.TgZ(25,"input",19),e.NdJ("change",function(l){return o.handleFiles(l)}),e.qZA(),e._uU(26," Select Background Image "),e.qZA(),e.qZA(),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.TgZ(29,"div",22),e.TgZ(30,"label",23),e.TgZ(31,"strong"),e._uU(32," Status "),e.qZA(),e.TgZ(33,"small",24),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"select",25),e.NdJ("ngModelChange",function(l){return o.updateStatusOfLocation(l)})("ngModelChange",function(l){return o.location.newstatus=l}),e.TgZ(36,"option",26),e._uU(37),e.qZA(),e.YNc(38,z,3,4,"option",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",20),e.TgZ(40,"div",21),e.TgZ(41,"div",22),e.TgZ(42,"label",28),e.TgZ(43,"strong"),e._uU(44," New Pairing "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"select",29),e.NdJ("ngModelChange",function(l){return o.selectLocation(l)})("ngModelChange",function(l){return o.newPairing=l}),e.YNc(46,W,3,4,"option",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",30),e.TgZ(48,"h6"),e._uU(49,"Paired Locations"),e.qZA(),e.TgZ(50,"div",31),e.TgZ(51,"table",32),e.TgZ(52,"thead"),e.TgZ(53,"tr"),e.TgZ(54,"th",33),e._uU(55,"From"),e.qZA(),e.TgZ(56,"th",33),e._uU(57,"To"),e.qZA(),e.TgZ(58,"th",33),e._uU(59,"Estimated Time"),e.qZA(),e.TgZ(60,"th",33),e._uU(61,"Fee"),e.qZA(),e.TgZ(62,"th",33),e._uU(63,"Status"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"tbody"),e.YNc(65,te,16,16,"tr",34),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"p"),e.TgZ(67,"small"),e._uU(68),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",35),e.TgZ(70,"button",36),e.NdJ("click",function(){return o.saveChanges()}),e._uU(71,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",37),e.TgZ(73,"div",38),e.TgZ(74,"div",6),e.TgZ(75,"div",7),e.TgZ(76,"h5",39),e._uU(77,"Delete Product"),e.qZA(),e.TgZ(78,"button",40),e.TgZ(79,"span",11),e._uU(80,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.YNc(81,oe,5,1,"div",41),e.YNc(82,ae,4,1,"div",41),e.TgZ(83,"div",35),e.TgZ(84,"button",42),e.NdJ("click",function(){return o.deleting=!1}),e._uU(85,"Opps, Close"),e.qZA(),e.TgZ(86,"button",43),e.NdJ("click",function(){return o.yesDelete("deleteModalButtonClose")}),e._uU(87,"Yes, confirm"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==o.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==o.creatingMethod),e.xp6(2),e.MT6("modal fade updateproductLargeModal",null==o.location?null:o.location.id,"",o.index,""),e.xp6(1),e.Q6J("ngClass",e.VKq(35,S,o.deleting)),e.xp6(3),e.MGl("id","updateModalLabel_",null==o.location?null:o.location.id,""),e.xp6(1),e.Q6J("src",null==o.location?null:o.location.image,e.LSH)("alt",null==o.location?null:o.location.image),e.xp6(3),e.MGl("id","updateModalButtonClose",null==o.location?null:o.location.id,""),e.xp6(6),e.Q6J("formGroup",o.updateCategoryForm),e.xp6(14),e.Q6J("ngClass",e.VKq(37,ie,o.location.touched)),e.xp6(1),e.hij("(",null==o.location?null:o.location.status,")"),e.xp6(1),e.Q6J("ngModel",o.location.newstatus)("ngModelOptions",e.DdM(39,v)),e.xp6(1),e.s9C("value",null==o.location?null:o.location.status),e.xp6(1),e.Oqu(null==o.location?null:o.location.status),e.xp6(1),e.Q6J("ngForOf",o.statusAvailable),e.xp6(7),e.Q6J("ngModelOptions",e.DdM(40,v))("ngModel",o.newPairing),e.xp6(1),e.Q6J("ngForOf",o.locationList),e.xp6(19),e.Q6J("ngForOf",o.mappedLocations),e.xp6(3),e.hij(" ",o.message," "),e.xp6(4),e.hYB("id","deleteModal",null==o.location?null:o.location.id,"",o.index,""),e.xp6(4),e.hYB("id","deleteModalLabel",null==o.location?null:o.location.id,"",o.index,""),e.xp6(5),e.Q6J("ngIf",!o.deleted),e.xp6(1),e.Q6J("ngIf",o.deleted),e.xp6(2),e.hYB("id","deleteModalButtonClose",null==o.location?null:o.location.id,"",o.index,""),e.xp6(2),e.hYB("id","deleteModalButtonYes",null==o.location?null:o.location.id,"",o.index,""),e.Q6J("ngClass",e.VKq(41,S,o.deleted)))},directives:[c.O5,c.mk,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.On,n.YN,n.Kr,c.sg,n.qQ,n.wV],pipes:[c.rS],styles:[".flaging[_ngcontent-%COMP%]{color:#003049}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #003049;display:inline-block;padding:6px 12px;cursor:pointer}.deleting[_ngcontent-%COMP%]{opacity:-1.6}.user-icon[_ngcontent-%COMP%]{height:40px;width:45px;border-radius:5px}.touched[_ngcontent-%COMP%]{color:red}"]}),a})();var y=d(2533);function re(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"app-location-update",14),e.NdJ("updatedLocation",function(i){return e.CHM(t),e.oxw().saveUpdate(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=r.$implicit,o=r.index;e.xp6(2),e.Q6J("src",null==t?null:t.image,e.LSH)("alt",null==t?null:t.image),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t?null:t.status),e.xp6(2),e.Oqu(null!=t&&t.pairings?null==t||null==t.pairings?null:t.pairings.length:"0"),e.xp6(2),e.Q6J("creatingMethod","modal")("index",o)("location",t)}}const le=function(a){return{id:"locationList",itemsPerPage:4,currentPage:a}};let se=(()=>{class a{constructor(t,o){this.locationService=t,this.notify=o,this.locations=[],this.p=1}ngOnInit(){this.locationService.servergetAll(t=>{console.log(t)}).subscribe(t=>{this.locationService.locationList.next(t)}),this.locationService.locationList.subscribe(t=>this.locations=t)}saveNewLocationCb(){alert("Yoplllfdlsfds")}saveUpdate(t){let o=this.locations.findIndex(i=>i.id==t.id);o>-1&&(this.locations.splice(o,1),this.notify.openSuccess(`${t.name} updated`,"Location was successfully updated"),this.locations.unshift(t)),console.log(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["location-list"]],decls:28,vars:8,consts:[[1,"card","card-box","text-left"],[1,"card-body"],["id","locationListTop",1,"row","m-3"],["locationListTop",""],[1,"col-md-9"],[1,"col-md-3","text-right"],[3,"creatingMethod","saveModalCallBack"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12","text-center"],[1,"user-icon",3,"src","alt"],[3,"creatingMethod","index","location","updatedLocation"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e.TgZ(5,"h5"),e._uU(6,"Location List"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"location-create",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"table",8),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",9),e._uU(14,"Image"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"Name"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"Status"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Total Pairing"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,re,11,8,"tr",10),e.ALo(25,"paginate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"div",12),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("creatingMethod","modal")("saveModalCallBack",o.saveNewLocationCb),e.xp6(16),e.Q6J("ngForOf",e.xi3(25,3,o.locations,e.VKq(6,le,o.p))))},directives:[K,c.sg,ne],pipes:[y._s],styles:[".user-icon[_ngcontent-%COMP%]{height:40px;width:45px;border-radius:5px}"]}),a})();var de=d(1635),ce=d(7519);function ue(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._UZ(2,"i",8),e._uU(3," Refresh"),e.qZA(),e.qZA()}}const pe=function(a){return{width:a}};let ge=(()=>{class a{constructor(t){this.formBuilder=t,this.progress=0,this.searchChanged=new e.vpe,this.searchCustomerForm=null}ngOnInit(){this.searchCustomerForm=this.formBuilder.group({email:["",[n.kI.required,n.kI.minLength(3)]]}),this.onChanges()}reset(){this.searchChanged.emit(""),this.searchCustomerForm.controls.email.setValue("")}controls(){return this.searchCustomerForm.controls.email}onChanges(){this.searchCustomerForm.valueChanges.pipe((0,u.U)(t=>t.email),(0,de.b)(1500),(0,ce.x)()).subscribe(t=>{this.searchChanged.emit(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-store-search"]],inputs:{progress:"progress",reset:"reset"},outputs:{searchChanged:"searchChanged"},decls:7,vars:8,consts:[[3,"formGroup"],[1,"row"],["type","text","name","email","formControlName","email","placeholder","Search Store name",1,"form-control"],[1,"progress","mb-20",2,"height","5px"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"ngStyle"],["class","col-md-4",4,"ngIf"],[1,"col-md-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"icon-copy","fi-refresh"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"input",2),e.TgZ(4,"div",3),e._UZ(5,"div",4),e.qZA(),e.qZA(),e.YNc(6,ue,4,0,"div",5),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",o.searchCustomerForm),e.xp6(2),e.Gre("col-md-",o.controls().value.length>0?"8":"12",""),e.xp6(3),e.Q6J("ngStyle",e.VKq(6,pe,o.progress+"%")),e.xp6(1),e.Q6J("ngIf",o.controls().value.length>0))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,c.PC,c.O5],styles:[""]}),a})();var M=d(7556),me=d(8555),w=d(6662);function Ze(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewStore()}),e._uU(1,"Add"),e.qZA()}}function he(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"Add"),e.qZA()}}function _e(a,r){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function fe(a,r){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.ALo(4,"titlecase"),e.ALo(5,"titlecase"),e.ALo(6,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.xDo(" ",e.lcZ(2,6,t.no)," ",e.lcZ(3,8,t.street)," ",e.lcZ(4,10,t.lgm)," ",e.lcZ(5,12,t.state)," ",e.lcZ(6,14,t.country)," ")}}function ve(a,r){if(1&a&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.email))}}function Ae(a,r){if(1&a&&(e.TgZ(0,"div",44),e._UZ(1,"img",45),e.qZA()),2&a){const t=r.$implicit;e.xp6(1),e.Q6J("src",null==t?null:t.url,e.LSH)}}const Te=function(a){return[a]};function qe(a,r){if(1&a&&(e.TgZ(0,"div",1),e.TgZ(1,"carousel"),e.YNc(2,Ae,2,1,"div",43),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.VKq(1,Te,t.uploadData._0))}}let Ce=(()=>{class a{constructor(t,o,i,l,s,p,U,Qe){this.formBuilder=t,this.categoryService=o,this.storeService=i,this.locationService=l,this.addressService=s,this.authService=p,this.loader=U,this.notificationService=Qe,this.creatingMethod="modal",this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.registerStore=null,this.uploadData={_0:{message:"",url:null,imagePath:null},_1:{message:"",url:null,imagePath:null},_2:{message:"",url:null,imagePath:null}},this.creatingnewAddress=!1,this.registerStore=this.formBuilder.group({name:["",[n.kI.required,n.kI.minLength(3)]],status:["",[n.kI.required]],owner:["",[]],location:["",[n.kI.required]],keywords:["",[n.kI.required]],address:["",[n.kI.required]],description:["",[n.kI.required,n.kI.minLength(6)]]})}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.loader.show();let o=yield t.authService.getCustomers();t.authService.customerList.next(o.data.reverse()),t.loader.hide()})()}onFileChanged(t,o){const i=t.target.files;if(0===i.length)return;if(null==i[0].type.match(/image\/*/))return void("_0"==o?this.uploadData._0.message="Only images are supported.":"_1"==o?this.uploadData._1.message="Only images are supported.":"_2"==o&&(this.uploadData._2.message="Only images are supported."));const s=new FileReader;s.readAsDataURL(i[0]),s.onload=p=>{"_0"==o?(this.uploadData._0.imagePath=i,this.uploadData._0.url=s.result):"_1"==o?(this.uploadData._1.imagePath=i,this.uploadData._1.url=s.result):"_2"==o&&(this.uploadData._2.imagePath=i,this.uploadData._2.url=s.result)},console.log(this.uploadData)}addNewStore(){}save(){var t=this;if(console.log(this.registerStore),"INVALID"==this.registerStore.status)return void this.notificationService.openError("Form Invalid","Please make sure the name & keywords fields have a value, also ensure you have an image uploaded");if(!this.uploadData._0.imagePath)return void this.notificationService.openError("Image missing","Please upload store logo");let o=new FormData;o.append("name",this.registerStore.controls.name.value),o.append("keywords",this.registerStore.controls.keywords.value),o.append("status",this.registerStore.controls.status.value),o.append("owner",this.registerStore.controls.owner.value),o.append("address",this.registerStore.controls.address.value),o.append("location",this.registerStore.controls.location.value),o.append("description",this.registerStore.controls.description.value),this.uploadData._0.imagePath&&o.append("icon",this.uploadData._0.imagePath[0],this.uploadData._0.imagePath[0].name),this.storeService.create(o,()=>{}).subscribe(function(){var i=(0,Z.Z)(function*(l){console.log(l),l.shop&&(t.notificationService.openSuccess("Store notification",l.message?l.message:l.response),setTimeout(()=>{window.location.reload()},1e3))});return function(l){return i.apply(this,arguments)}}())}addByModal(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(C.G),e.Y36(f.d),e.Y36(h),e.Y36(T),e.Y36(M.e),e.Y36(me.D),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["store-create"]],inputs:{creatingMethod:"creatingMethod",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack"},decls:80,vars:14,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target",".addstore-large-modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","addstore-large-modal"],[1,"modal-dialog","modal-lg","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","addModalLabel",1,"modal-title","flaging"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-6","mb-4"],["type","text","name","name","formControlName","name","placeholder","Store name",1,"form-control"],["type","text","name","keywords","formControlName","keywords","placeholder","Store Keywords",1,"form-control"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","location",1,"input-group-text"],["id","createstorelocation","name","location","formControlName","location",1,"custom-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","address",1,"input-group-text"],["id","createstoreaddress","name","address","formControlName","address",1,"custom-select"],["for","owner",1,"input-group-text"],["id","createstoreowner","name","owner","formControlName","owner",1,"custom-select"],["for","status",1,"input-group-text"],["id","createstorestatus","name","status","formControlName","status",1,"custom-select"],["value","Public"],["value","Private"],[1,"col-md-12","mb-4"],["placeholder","Enter store description","name","description","formControlName","description","id","exampleFormControlTextarea1","rows","3",1,"form-control"],[1,"col-md-12","row"],[1,"col-md-4"],[1,"custom-file-upload"],["accept","image/*","name","file","type","file",3,"change"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target",".addstore-large-modal",1,"btn","btn-primary",3,"click"],[3,"value"],["class","carousel-cell",4,"ngFor","ngForOf"],[1,"carousel-cell"],[3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Ze,2,0,"a",2),e.YNc(3,he,2,0,"a",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._uU(10,"New Store"),e.qZA(),e.TgZ(11,"button",9),e.TgZ(12,"span",10),e._uU(13,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",1),e.TgZ(17,"form",13),e.TgZ(18,"div",12),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA(),e.TgZ(21,"div",14),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",14),e.TgZ(24,"div",17),e.TgZ(25,"div",18),e.TgZ(26,"label",19),e.TgZ(27,"strong"),e._uU(28," Location "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"select",20),e.TgZ(30,"option",21),e._uU(31,"Select Location..."),e.qZA(),e.YNc(32,_e,3,4,"option",22),e.ALo(33,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",14),e.TgZ(35,"div",17),e.TgZ(36,"div",18),e.TgZ(37,"label",23),e.TgZ(38,"strong"),e._uU(39," Address "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"select",24),e.TgZ(41,"option",21),e._uU(42,"Select Address..."),e.qZA(),e.YNc(43,fe,7,16,"option",22),e.ALo(44,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",14),e.TgZ(46,"div",17),e.TgZ(47,"div",18),e.TgZ(48,"label",25),e.TgZ(49,"strong"),e._uU(50," Owner "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"select",26),e.TgZ(52,"option",21),e._uU(53,"Select Owner..."),e.qZA(),e.YNc(54,ve,3,4,"option",22),e.ALo(55,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",14),e.TgZ(57,"div",17),e.TgZ(58,"div",18),e.TgZ(59,"label",27),e.TgZ(60,"strong"),e._uU(61," Status "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"select",28),e.TgZ(63,"option",29),e._uU(64,"Public"),e.qZA(),e.TgZ(65,"option",30),e._uU(66,"Private"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",31),e._UZ(68,"textarea",32),e.qZA(),e.TgZ(69,"div",31),e.TgZ(70,"div",12),e.TgZ(71,"div",33),e.TgZ(72,"div",34),e.TgZ(73,"label",35),e.TgZ(74,"input",36),e.NdJ("change",function(l){return o.onFileChanged(l,"_0")}),e.qZA(),e._uU(75),e.qZA(),e.qZA(),e.qZA(),e.YNc(76,qe,3,3,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",38),e.TgZ(78,"button",39),e.NdJ("click",function(){return o.save()}),e._uU(79,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==o.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==o.creatingMethod),e.xp6(14),e.Q6J("formGroup",o.registerStore),e.xp6(15),e.Q6J("ngForOf",e.lcZ(33,8,o.locationService.locationList)),e.xp6(11),e.Q6J("ngForOf",e.lcZ(44,10,o.addressService.addressList)),e.xp6(11),e.Q6J("ngForOf",e.lcZ(55,12,o.authService.customerList)),e.xp6(21),e.hij(" ",o.uploadData._0.url?"Change":"Upload 1"," "),e.xp6(1),e.Q6J("ngIf",o.uploadData._0.url))},directives:[c.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,c.sg,w.F],pipes:[c.Ov,c.rS],styles:[".flaging[_ngcontent-%COMP%]{color:#003049}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #003049;display:inline-block;padding:6px 12px;cursor:pointer}"]}),a})();function be(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNewStore()}),e._uU(1,"Update"),e.qZA()}}function ye(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().addByModal()}),e._uU(1,"Update"),e.qZA()}}function Ue(a,r){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function xe(a,r){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.ALo(4,"titlecase"),e.ALo(5,"titlecase"),e.ALo(6,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.xDo(" ",e.lcZ(2,6,t.no)," ",e.lcZ(3,8,t.street)," ",e.lcZ(4,10,t.lgm)," ",e.lcZ(5,12,t.state)," ",e.lcZ(6,14,t.country)," ")}}function Le(a,r){if(1&a&&(e.TgZ(0,"option",43),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&a){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.email))}}function Se(a,r){if(1&a&&(e.TgZ(0,"div",45),e._UZ(1,"img",46),e.qZA()),2&a){const t=r.$implicit;e.xp6(1),e.Q6J("src",null==t?null:t.url,e.LSH)}}const Me=function(a){return[a]};function we(a,r){if(1&a&&(e.TgZ(0,"div",1),e.TgZ(1,"carousel"),e.YNc(2,Se,2,1,"div",44),e.qZA(),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.VKq(1,Me,t.uploadData._0))}}let ke=(()=>{class a{constructor(t,o,i,l,s,p,U){this.formBuilder=t,this.categoryService=o,this.authService=i,this.addressService=l,this.locationService=s,this.storeService=p,this.notificationService=U,this.creatingMethod="modal",this.store=null,this.index=null,this.closeModalCallBack=()=>{},this.saveModalCallBack=()=>{},this.registerStore=null,this.uploadData={_0:{message:"",url:null,imagePath:null},_1:{message:"",url:null,imagePath:null},_2:{message:"",url:null,imagePath:null}}}ngOnInit(){this.registerStore=this.formBuilder.group({name:[this.store.name,[n.kI.required,n.kI.minLength(3)]],address:[this.store.address.id,[n.kI.required]],location:[this.store.location.id,[n.kI.required]],owner:[this.store.owner.id,[n.kI.required]],keywords:[this.store.keywords,[n.kI.required]],status:[this.store.status,[n.kI.required]],description:[this.store.description,[n.kI.required,n.kI.minLength(6)]]}),this.uploadData._0.url=this.store.icon.file_path}ngOnChanges(t){}onFileChanged(t,o){const i=t.target.files;if(0===i.length)return;if(null==i[0].type.match(/image\/*/))return void("_0"==o?this.uploadData._0.message="Only images are supported.":"_1"==o?this.uploadData._1.message="Only images are supported.":"_2"==o&&(this.uploadData._2.message="Only images are supported."));const s=new FileReader;s.readAsDataURL(i[0]),s.onload=p=>{"_0"==o?(this.uploadData._0.imagePath=i,this.uploadData._0.url=s.result):"_1"==o?(this.uploadData._1.imagePath=i,this.uploadData._1.url=s.result):"_2"==o&&(this.uploadData._2.imagePath=i,this.uploadData._2.url=s.result)},console.log(this.uploadData)}addNewStore(){}save(){var t=this;if(console.log(this.registerStore),"INVALID"==this.registerStore.status)return void this.notificationService.openError("Form Invalid","Please make sure the name & keywords fields have a value, also ensure you have an image uploaded");if(!this.uploadData._0.imagePath||!this.uploadData._1.imagePath||!this.uploadData._2.imagePath)return void this.notificationService.openError("Image missing","Please upload all 3 images needed for a single store.");let o=new FormData;o.append("name",this.registerStore.controls.name.value),o.append("keywords",this.registerStore.controls.keywords.value),o.append("discount",this.registerStore.controls.discount.value?this.registerStore.controls.discount.value:0),o.append("features",this.registerStore.controls.features.value),o.append("price",this.registerStore.controls.price.value),o.append("category",this.registerStore.controls.category.value),o.append("description",this.registerStore.controls.description.value),this.uploadData._0.imagePath&&o.append("image0",this.uploadData._0.imagePath[0],this.uploadData._0.imagePath[0].name),this.uploadData._1.imagePath&&o.append("image1",this.uploadData._1.imagePath[0],this.uploadData._1.imagePath[0].name),this.uploadData._2.imagePath&&o.append("image2",this.uploadData._2.imagePath[0],this.uploadData._2.imagePath[0].name),this.storeService.create(o,()=>{}).subscribe(function(){var i=(0,Z.Z)(function*(l){if(console.log(l),l.store&&(t.notificationService.openSuccess("Store notification",l.message?l.message:l.response),"1"==l.new)){let s=t.storeService.mutateStoreArr(l);console.log(s);let p=t.storeService.storeList.value;console.log(p),p.unshift(s),t.storeService.storeList.next(p),t.registerStore.reset()}});return function(l){return i.apply(this,arguments)}}())}addByModal(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(n.qu),e.Y36(C.G),e.Y36(M.e),e.Y36(T),e.Y36(h),e.Y36(f.d),e.Y36(_.g))},a.\u0275cmp=e.Xpm({type:a,selectors:[["store-update"]],inputs:{creatingMethod:"creatingMethod",store:"store",index:"index",closeModalCallBack:"closeModalCallBack",saveModalCallBack:"saveModalCallBack"},features:[e.TTD],decls:81,vars:16,consts:[[1,"col-row"],[1,"col-md-12"],["href","javascript:void(0)","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target",".updateStore-large-modal",3,"click",4,"ngIf"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","updateStore-large-modal"],[1,"modal-dialog","modal-lg","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","updateStoreModalLabel",1,"modal-title","flaging"],[1,"user-icon",3,"src","alt"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[3,"formGroup"],[1,"col-md-6","mb-4"],["type","text","name","name","formControlName","name","placeholder","Store name",1,"form-control"],["type","text","name","keywords","formControlName","keywords","placeholder","Store Keywords",1,"form-control"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","location",1,"input-group-text"],["id","createstorelocation","name","location","formControlName","location",1,"custom-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","address",1,"input-group-text"],["id","createstoreaddress","name","address","formControlName","address",1,"custom-select"],["for","owner",1,"input-group-text"],["id","createstoreowner","name","owner","formControlName","owner",1,"custom-select"],["for","status",1,"input-group-text"],["id","createstorestatus","name","status","formControlName","status",1,"custom-select"],["value","public"],["value","private"],[1,"col-md-12","mb-4"],["placeholder","Enter store description","name","description","formControlName","description","id","exampleFormControlTextarea1","rows","3",1,"form-control"],[1,"col-md-12","row"],[1,"col-md-4"],[1,"custom-file-upload"],["accept","image/*","name","file","type","file",3,"change"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target",".updateStore-large-modal",1,"btn","btn-primary",3,"click"],[3,"value"],["class","carousel-cell",4,"ngFor","ngForOf"],[1,"carousel-cell"],[3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,be,2,0,"a",2),e.YNc(3,ye,2,0,"a",3),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h5",8),e._uU(10,"Update Store "),e._UZ(11,"img",9),e.qZA(),e.TgZ(12,"button",10),e.TgZ(13,"span",11),e._uU(14,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"div",1),e.TgZ(18,"form",14),e.TgZ(19,"div",13),e.TgZ(20,"div",15),e._UZ(21,"input",16),e.qZA(),e.TgZ(22,"div",15),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"div",15),e.TgZ(25,"div",18),e.TgZ(26,"div",19),e.TgZ(27,"label",20),e.TgZ(28,"strong"),e._uU(29," Location "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"select",21),e.TgZ(31,"option",22),e._uU(32,"Select Location..."),e.qZA(),e.YNc(33,Ue,3,4,"option",23),e.ALo(34,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",15),e.TgZ(36,"div",18),e.TgZ(37,"div",19),e.TgZ(38,"label",24),e.TgZ(39,"strong"),e._uU(40," Address "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"select",25),e.TgZ(42,"option",22),e._uU(43,"Select Address..."),e.qZA(),e.YNc(44,xe,7,16,"option",23),e.ALo(45,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",15),e.TgZ(47,"div",18),e.TgZ(48,"div",19),e.TgZ(49,"label",26),e.TgZ(50,"strong"),e._uU(51," Owner "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"select",27),e.TgZ(53,"option",22),e._uU(54,"Select Owner..."),e.qZA(),e.YNc(55,Le,3,4,"option",23),e.ALo(56,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",15),e.TgZ(58,"div",18),e.TgZ(59,"div",19),e.TgZ(60,"label",28),e.TgZ(61,"strong"),e._uU(62," Status "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"select",29),e.TgZ(64,"option",30),e._uU(65,"Public"),e.qZA(),e.TgZ(66,"option",31),e._uU(67,"Private"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",32),e._UZ(69,"textarea",33),e.qZA(),e.TgZ(70,"div",32),e.TgZ(71,"div",13),e.TgZ(72,"div",34),e.TgZ(73,"div",35),e.TgZ(74,"label",36),e.TgZ(75,"input",37),e.NdJ("change",function(l){return o.onFileChanged(l,"_0")}),e.qZA(),e._uU(76),e.qZA(),e.qZA(),e.qZA(),e.YNc(77,we,3,3,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",39),e.TgZ(79,"button",40),e.NdJ("click",function(){return o.save()}),e._uU(80,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf","full"==o.creatingMethod),e.xp6(1),e.Q6J("ngIf","modal"==o.creatingMethod),e.xp6(8),e.Q6J("src",null==o.store||null==o.store.icon?null:o.store.icon.file_path,e.LSH)("alt",null==o.store||null==o.store.icon?null:o.store.icon.file_path),e.xp6(7),e.Q6J("formGroup",o.registerStore),e.xp6(15),e.Q6J("ngForOf",e.lcZ(34,10,o.locationService.locationList)),e.xp6(11),e.Q6J("ngForOf",e.lcZ(45,12,o.addressService.addressList)),e.xp6(11),e.Q6J("ngForOf",e.lcZ(56,14,o.authService.customerList)),e.xp6(21),e.hij(" ",o.uploadData._0.url?"Change":"Upload 1"," "),e.xp6(1),e.Q6J("ngIf",o.uploadData._0.url))},directives:[c.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,c.sg,w.F],pipes:[c.Ov,c.rS],styles:[".flaging[_ngcontent-%COMP%]{color:#003049}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #003049;display:inline-block;padding:6px 12px;cursor:pointer}.deleting[_ngcontent-%COMP%]{opacity:-1.6}.user-icon[_ngcontent-%COMP%]{height:40px;width:45px;border-radius:5px}"]}),a})();function Fe(a,r){if(1&a&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"img",17),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"store-update",18),e.qZA(),e.qZA()),2&a){const t=r.$implicit,o=r.index,i=e.oxw();e.xp6(2),e.Q6J("src",null==t||null==t.icon?null:t.icon.file_path,e.LSH)("alt",null==t||null==t.icon?null:t.icon.file_path),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Oqu(null==t||null==t.location?null:t.location.name),e.xp6(2),e.xDo(" ",null==t||null==t.address?null:t.address.no,", ",null==t||null==t.address?null:t.address.street,", ",null==t||null==t.address?null:t.address.lgm,", ",null==t||null==t.address?null:t.address.state,", ",null==t||null==t.address?null:t.address.country," "),e.xp6(2),e.Oqu(null==t?null:t.keywords),e.xp6(2),e.Oqu(null==t?null:t.status),e.xp6(2),e.Q6J("creatingMethod","modal")("saveModalCallBack",i.saveUpdate)("index",o)("store",t)}}const Ne=function(a){return{id:"storesList",itemsPerPage:10,currentPage:a}};let Je=(()=>{class a{constructor(t,o){this.storeService=t,this.router=o,this.p=1,this.stores=[],this.searchprgress=0,this.setStore=i=>{console.log(i)}}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.storeService.storeList.subscribe(o=>t.stores=o),t.storeService.getAll(o=>{}).subscribe(o=>{t.stores=o,t.storeService.storeList.next(t.stores),console.log(t.stores)})})()}saveNewStoreCb(){alert("Yoplllfdlsfds")}eventpage(t){this.p=t;const o=document.getElementById("storeListTop");this.scrollToElement(o)}scrollToElement(t){console.log(t),t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}searchFunction(t){console.log(t)}saveUpdate(t){console.log(t)}helloPrompt(){alert("hello")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.d),e.Y36(A.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-store-list"]],decls:37,vars:10,consts:[[1,"card","card-box","text-left"],[1,"card-body"],["id","storeListTop",1,"row","m-3"],["storeListTop",""],[1,"col-md-6"],[1,"col-md-6","text-right"],[1,"row"],[1,"col-md-9"],[3,"progress","searchChanged"],[1,"col-md-3"],[3,"creatingMethod","saveModalCallBack"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-md-12","text-center"],["id","storesList",1,"my-pagination",3,"responsive","pageChange"],[1,"user-icon",3,"src","alt"],[3,"creatingMethod","saveModalCallBack","index","store"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2,3),e.TgZ(4,"div",4),e.TgZ(5,"h5"),e._uU(6,"Store List"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"app-store-search",8),e.NdJ("searchChanged",function(l){return o.searchFunction(l)}),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"store-create",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"table",12),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th",13),e._uU(18,"Image"),e.qZA(),e.TgZ(19,"th",13),e._uU(20,"Name"),e.qZA(),e.TgZ(21,"th",13),e._uU(22,"Location"),e.qZA(),e.TgZ(23,"th",13),e._uU(24,"Address"),e.qZA(),e.TgZ(25,"th",13),e._uU(26,"Keywords"),e.qZA(),e.TgZ(27,"th",13),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"th",13),e._uU(30,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"tbody"),e.YNc(32,Fe,15,15,"tr",14),e.ALo(33,"paginate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",6),e.TgZ(35,"div",15),e.TgZ(36,"pagination-controls",16),e.NdJ("pageChange",function(l){return o.eventpage(l)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("progress",o.searchprgress),e.xp6(2),e.Q6J("creatingMethod","modal")("saveModalCallBack",o.saveNewStoreCb),e.xp6(20),e.Q6J("ngForOf",e.xi3(33,5,o.stores,e.VKq(8,Ne,o.p))),e.xp6(4),e.Q6J("responsive",!0))},directives:[ge,Ce,c.sg,y.LS,ke],pipes:[y._s],styles:[".user-icon[_ngcontent-%COMP%]{height:40px;width:45px;border-radius:5px}"]}),a})();var Oe=d(5227);const Ie=[{path:"",component:(()=>{class a{constructor(t,o){this.categoryService=t,this.storeService=o,this.routeData={name:"Store Dashboard",route:"/stores"},this.lastdays=(0,N.mv)(10,"weekday"),this.pieChat=null}ngAfterViewInit(){$(".dial2").knob(),$({animatedVal:0}).animate({animatedVal:70},{duration:3e3,easing:"swing",step:function(){$(".dial2").val(Math.ceil(this.animatedVal)).trigger("change")}}),$(".dial3").knob(),$({animatedVal:0}).animate({animatedVal:90},{duration:3e3,easing:"swing",step:function(){$(".dial3").val(Math.ceil(this.animatedVal)).trigger("change")}}),$(".dial4").knob(),$({animatedVal:0}).animate({animatedVal:75},{duration:3e3,easing:"swing",step:function(){$(".dial4").val(Math.ceil(this.animatedVal)).trigger("change")}}),$("#dynamic-alert").click(function(){swal.queue([{title:"Generating Report",confirmButtonText:"Generate",text:"Your public IP will be received via a network request. You have to be connected to the internet to enjoy this feature and turn off any vpn/firewall connection.",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(t){$.get("https://api.ipify.org?format=json").done(function(o){swal.insertQueueStep(o.ip),t(o)})})}}])}),this.categoryService.apiFetched.subscribe(t=>{let o=this.categoryService.mapForPie();this.pieChat="completed"==t?Highcharts.chart("store-trend-sales",{title:{text:"Categories"},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},series:[{type:"pie",allowPointSelect:!0,keys:["name","y","selected","sliced"],data:o,showInLegend:!0}]}):null})}ngOnInit(){}refresh(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(C.G),e.Y36(f.d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-index"]],decls:67,vars:7,consts:[[1,"mobile-menu-overlay"],[1,"main-container"],[1,"pd-ltr-20"],[1,"row"],[1,"col-sm-12","col-md-12","mb-30"],[3,"routeData"],[1,"row","clearfix","progress-box"],[1,"col-lg-3","col-md-6","col-sm-12","mb-30"],[1,"card","text-white","bg-info","card-box"],[1,"card-header"],[1,"card-body"],[1,"card-title","text-white","mb-2"],[1,"card-text"],[1,"card-title","text-white"],[1,"card-footer","pointer",3,"click"],[1,"icon-copy","fi-refresh"],[1,"card-box","pd-30","height-100-p"],[1,"progress-box","text-center"],[2,"display","inline","width","120px","height","120px"],["type","text","value","70","data-width","120","data-height","120","data-linecap","round","data-thickness","0.12","data-bgcolor","#fff","data-fgcolor","#00e091","data-angleoffset","180","readonly","readonly",1,"knob","dial2",2,"width","64px","height","40px","position","absolute","vertical-align","middle","margin-top","40px","margin-left","-92px","border","0px","background","none rgb(255, 255, 255)","font","bold 24px Arial","text-align","center","color","rgb(0, 224, 145)","padding","0px","appearance","none"],[1,"text-light-green","padding-top-10","h5"],[1,"d-block"],[1,"fa","text-light-green","fa-line-chart"],["type","text","value","90","data-width","120","data-height","120","data-linecap","round","data-thickness","0.12","data-bgcolor","#fff","data-fgcolor","#f56767","data-angleoffset","180","readonly","readonly",1,"knob","dial3",2,"width","64px","height","40px","position","absolute","vertical-align","middle","margin-top","40px","margin-left","-92px","border","0px","background","none rgb(255, 255, 255)","font","bold 24px Arial","text-align","center","color","rgb(245, 103, 103)","padding","0px","appearance","none"],[1,"text-light-orange","padding-top-10","h5"],[1,"fa","text-light-orange","fa-line-chart"],["type","text","value","65","data-width","120","data-height","120","data-linecap","round","data-thickness","0.12","data-bgcolor","#fff","data-fgcolor","#a683eb","data-angleoffset","180","readonly","readonly",1,"knob","dial4",2,"width","64px","height","40px","position","absolute","vertical-align","middle","margin-top","40px","margin-left","-92px","border","0px","background","none rgb(255, 255, 255)","font","bold 24px Arial","text-align","center","color","rgb(166, 131, 235)","padding","0px","appearance","none"],[1,"text-light-purple","padding-top-10","h5"],[1,"fa","text-light-purple","fa-line-chart"],[1,"col-sm-12","col-md-6","mb-30"]],template:function(t,o){if(1&t&&(e._UZ(0,"app-header"),e._UZ(1,"app-right-navigation"),e._UZ(2,"app-left-navigation"),e._UZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"app-page-header",5),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e._uU(14,"Store Information"),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"h4",11),e._uU(17,"Total Stores"),e.qZA(),e.TgZ(18,"p",12),e._uU(19),e.ALo(20,"async"),e.qZA(),e._UZ(21,"hr"),e.TgZ(22,"h5",13),e._uU(23,"Total Categories"),e.qZA(),e.TgZ(24,"p",12),e._uU(25),e.ALo(26,"async"),e.qZA(),e.qZA(),e.TgZ(27,"div",14),e.NdJ("click",function(){return o.refresh()}),e._UZ(28,"i",15),e._uU(29," Refresh"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",7),e.TgZ(31,"div",16),e.TgZ(32,"div",17),e.TgZ(33,"div",18),e._UZ(34,"input",19),e.qZA(),e.TgZ(35,"h5",20),e._uU(36,"Store Score "),e.qZA(),e.TgZ(37,"span",21),e._uU(38,"70% Average "),e._UZ(39,"i",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",7),e.TgZ(41,"div",16),e.TgZ(42,"div",17),e.TgZ(43,"div",18),e._UZ(44,"input",23),e.qZA(),e.TgZ(45,"h5",24),e._uU(46,"Store Review"),e.qZA(),e.TgZ(47,"span",21),e._uU(48,"90% Aaverage "),e._UZ(49,"i",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",7),e.TgZ(51,"div",16),e.TgZ(52,"div",17),e.TgZ(53,"div",18),e._UZ(54,"input",26),e.qZA(),e.TgZ(55,"h5",27),e._uU(56,"Wishlisted Stores"),e.qZA(),e.TgZ(57,"span",21),e._uU(58,"65% Average "),e._UZ(59,"i",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",29),e._UZ(61,"address-list"),e.qZA(),e.TgZ(62,"div",29),e._UZ(63,"location-list"),e.qZA(),e.TgZ(64,"div",4),e._UZ(65,"app-store-list"),e.qZA(),e.qZA(),e.qZA(),e._UZ(66,"app-footer"),e.qZA()),2&t){let i,l;e.xp6(8),e.Q6J("routeData",o.routeData),e.xp6(11),e.Oqu(null==(i=e.lcZ(20,3,o.storeService.storeList))?null:i.length),e.xp6(6),e.Oqu(null==(l=e.lcZ(26,5,o.categoryService.categoryList))?null:l.length)}},directives:[J.G,O.p,I.G,P.q,V,se,Je,Oe.c],pipes:[c.Ov],styles:[""]}),a})(),canActivate:[F.J]}];let Pe=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[A.Bz.forChild(Ie)],A.Bz]}),a})();var De=d(194);let Ye=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.ez,q.m]]}),a})(),Be=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.ez,Pe,q.m,De.CategoriesModule,Ye,k]]}),a})()}}]);